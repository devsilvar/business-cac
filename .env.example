# ============================================
# BusinessAPI Environment Configuration
# ============================================
# Copy this file to .env and update with your actual values

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# ADMIN CREDENTIALS
# ============================================
# Default admin login credentials
# ⚠️  CHANGE THESE IMMEDIATELY IN PRODUCTION!
ADMIN_EMAIL=admin@yourcompany.com
ADMIN_PASSWORD=YourSecurePassword123!

# Admin JWT Configuration
JWT_SECRET=your-super-secret-admin-jwt-key-change-in-production
JWT_EXPIRY=24h

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Choose: memory, firestore, or postgresql
DATABASE_TYPE=memory

# Firestore (if using DATABASE_TYPE=firestore)
GOOGLE_CLOUD_PROJECT=your-project-id
# Path to service account key file
GOOGLE_APPLICATION_CREDENTIALS=./path/to/serviceAccountKey.json

# PostgreSQL (if using DATABASE_TYPE=postgresql)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=businessapi
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password

# ============================================
# EXTERNAL API CONFIGURATION
# ============================================

# Documents.com.ng API
DOCUMENTS_API_URL=https://app.documents.com.ng
DOCUMENTS_AGENT_ID=your-documents-agent-id-here
DOCUMENTS_API_TIMEOUT=30000

# CAC API
CAC_API_URL=https://icrp.cac.gov.ng/name_similarity_app/api/public_search/search
CAC_API_TIMEOUT=15000

# CAC Store API
CAC_STORE_API_URL=https://cacstore.com.ng/api
CAC_STORE_API_TIMEOUT=10000

# QoreID API (Phone verification, KYC, Identity services)
# Get your credentials from: https://qoreid.com/dashboard
# ⚠️  SECURITY: Replace with your actual QoreID credentials in .env (never commit real values)
QOREID_CLIENT_ID=your-qoreid-client-id-here
QOREID_SECRET=your-qoreid-secret-here


# ============================================
# PAYSTACK CONFIGURATION (Payment Processing)
# ============================================
# Get your keys from: https://dashboard.paystack.com/#/settings/developers
# Use test keys (sk_test_*, pk_test_*) for development
# Use live keys (sk_live_*, pk_live_*) for production
# 
# PAYMENT MODEL: Pay-as-you-go (per API call)
# - Each API endpoint has a fixed price
# - Customers top up their wallet via Paystack
# - API usage deducts from wallet balance automatically
PAYSTACK_SECRET_KEY=sk_test_your_secret_key_here
PAYSTACK_PUBLIC_KEY=pk_test_your_public_key_here

# Your app's base URL (for Paystack callback redirects)
APP_BASE_URL=http://localhost:3000

# Optional: Enable wallet debug logging
DEBUG_WALLET=false

# ============================================
# SECURITY & AUTHENTICATION
# ============================================

# API Key Storage (DEV ONLY - DO NOT USE IN PRODUCTION)
SAVE_PLAIN_KEYS=false
SAVE_PLAIN_KEYS_SQLITE=false
PLAIN_KEY_FILE=.data/plain_api_keys.ndjson
SQLITE_VAULT_PASSPHRASE=dev-secret

# Auto-import keys from vault (DEV ONLY)
AUTO_IMPORT_KEY=false

# JWT Configuration
RELAX_JWT=false
JWT_ISSUER=business-api
JWT_AUDIENCE=business-api-clients
JWT_EXPIRES_IN=24h

# Authentication
AUTH_ENABLED=false
API_KEY_HEADER=x-api-key

# Debug Flags (DEV ONLY)
DEBUG_API_KEY=false
LOG_LEVEL=info

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# CLIENT CONFIGURATION
# ============================================
VITE_API_URL=http://localhost:3000/api/v1

# ============================================
# DEPLOYMENT
# ============================================
# Platform: local, firebase, digitalocean
DEPLOYMENT_PLATFORM=local

# Firebase (if deploying to Firebase)
FIREBASE_PROJECT_ID=your-firebase-project-id

# ============================================
# MONITORING & LOGGING
# ============================================
# Set to 'debug' for detailed logs
LOG_LEVEL=info

# ============================================
# NOTES
# ============================================
# Admin Login Instructions:
# 1. Start the server: npm start
# 2. Login endpoint: POST http://localhost:3000/api/v1/admin/auth/login
# 3. Request body: { "email": "admin@yourcompany.com", "password": "YourSecurePassword123!" }
# 4. Use the returned JWT token for admin API calls
# 5. IMPORTANT: Change the default password immediately!
#
# To change admin password after first login:
# POST http://localhost:3000/api/v1/admin/change-password
# Headers: Authorization: Bearer <your-jwt-token>
# Body: { "currentPassword": "old", "newPassword": "new" }
